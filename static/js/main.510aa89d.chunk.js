(this["webpackJsonptest-gh"]=this["webpackJsonptest-gh"]||[]).push([[0],{12:function(e,t,i){},13:function(e,t,i){},15:function(e,t,i){"use strict";i.r(t);var a=i(1),n=i.n(a),s=i(3),r=i.n(s),o=(i(12),i(13),i(4)),c=i(5),l=i(7),d=i(6),u=i(0),m=function(e){Object(l.a)(i,e);var t=Object(d.a)(i);function i(){var e;Object(o.a)(this,i);for(var a=arguments.length,n=new Array(a),s=0;s<a;s++)n[s]=arguments[s];return(e=t.call.apply(t,[this].concat(n))).state={index:2,currentTime:"0:00",musicList:[{name:"Red",author:"Taylor Swift",img:"https://i.imgur.com/TMg6yQk.jpg",audio:"https://firebasestorage.googleapis.com/v0/b/music-6fc30.appspot.com/o/02%20Red%20(Taylor's%20Version).mp3?alt=media&token=2b343a47-1f3d-4d23-9582-6a73d738f9fb",duration:"3:43"},{name:"The Last Time",author:"Taylor Swift",img:"https://i.imgur.com/TMg6yQk.jpg",audio:"https://firebasestorage.googleapis.com/v0/b/music-6fc30.appspot.com/o/10%20The%20Last%20Time%20(Taylor's%20Version).mp3?alt=media&token=e624f968-abf5-43df-b7e6-bd5711f3a294",duration:"4:59"},{name:"All Too Well",author:"Taylor Swift",img:"https://i.imgur.com/TMg6yQk.jpg",audio:"https://firebasestorage.googleapis.com/v0/b/music-6fc30.appspot.com/o/05%20All%20Too%20Well%20(Taylor's%20Version).mp3?alt=media&token=3257acdf-6cce-48fd-bee3-b1f7864a5b0d",duration:"5:29"}],pause:!1},e.changeCurrentTime=function(t){var i=e.playerRef.duration,a=e.timelineRef.offsetWidth,n=e.timelineRef.offsetLeft,s=100*(t.clientX-n)/a;e.playheadRef.style.width=s+"%",e.playerRef.currentTime=i*s/100},e.hoverTimeLine=function(t){var i=e.playerRef.duration,a=e.timelineRef.offsetWidth,n=e.timelineRef.offsetLeft,s=100*(t.clientX-n)/a;s<=100&&(e.hoverPlayheadRef.style.width=s+"%");var r=i*s/100;r>=0&&r<=i&&(e.hoverPlayheadRef.dataset.content=e.formatTime(r))},e.resetTimeLine=function(){e.hoverPlayheadRef.style.width=0},e.timeUpdate=function(){var t=e.playerRef.duration,i=(e.timelineRef.offsetWidth,e.playheadRef.offsetWidth,e.playerRef.currentTime/t*100);e.playheadRef.style.width=i+"%";var a=e.formatTime(parseInt(e.playerRef.currentTime));e.setState({currentTime:a})},e.formatTime=function(e){var t=Math.floor(e/60),i=Math.floor(e%60);return t+":"+(i=i>=10?i:"0"+i%60)},e.updatePlayer=function(){var t=e.state,i=t.musicList[t.index];new Audio(i.audio);e.playerRef.load()},e.nextSong=function(){var t=e.state,i=t.musicList,a=t.index,n=t.pause;e.setState({index:(a+1)%i.length}),e.updatePlayer(),n&&e.playerRef.play()},e.prevSong=function(){var t=e.state,i=t.musicList,a=t.index,n=t.pause;e.setState({index:(a+i.length-1)%i.length}),e.updatePlayer(),n&&e.playerRef.play()},e.playOrPause=function(){var t=e.state,i=t.musicList,a=t.index,n=t.pause,s=i[a];new Audio(s.audio);e.state.pause?e.playerRef.pause():e.playerRef.play(),e.setState({pause:!n})},e.clickAudio=function(t){var i=e.state.pause;e.setState({index:t}),e.updatePlayer(),i&&e.playerRef.play()},e}return Object(c.a)(i,[{key:"componentDidMount",value:function(){this.playerRef.addEventListener("timeupdate",this.timeUpdate,!1),this.playerRef.addEventListener("ended",this.nextSong,!1),this.timelineRef.addEventListener("click",this.changeCurrentTime,!1),this.timelineRef.addEventListener("mousemove",this.hoverTimeLine,!1),this.timelineRef.addEventListener("mouseout",this.resetTimeLine,!1)}},{key:"componentWillUnmount",value:function(){this.playerRef.removeEventListener("timeupdate",this.timeUpdate),this.playerRef.removeEventListener("ended",this.nextSong),this.timelineRef.removeEventListener("click",this.changeCurrentTime),this.timelineRef.removeEventListener("mousemove",this.hoverTimeLine),this.timelineRef.removeEventListener("mouseout",this.resetTimeLine)}},{key:"render",value:function(){var e=this,t=this.state,i=t.musicList,a=t.index,n=t.currentTime,s=t.pause,r=i[a];return Object(u.jsx)("div",{className:"card",children:Object(u.jsxs)("div",{className:"current-song",children:[Object(u.jsxs)("audio",{ref:function(t){return e.playerRef=t},children:[Object(u.jsx)("source",{src:r.audio,type:"audio/ogg"}),"Your browser does not support the audio element."]}),Object(u.jsx)("div",{className:"img-wrap",children:Object(u.jsx)("img",{src:r.img})}),Object(u.jsx)("span",{className:"song-name",children:r.name}),Object(u.jsx)("span",{className:"song-autor",children:r.author}),Object(u.jsxs)("div",{className:"time",children:[Object(u.jsx)("div",{className:"current-time",children:n}),Object(u.jsx)("div",{className:"end-time",children:r.duration})]}),Object(u.jsxs)("div",{ref:function(t){return e.timelineRef=t},id:"timeline",children:[Object(u.jsx)("div",{ref:function(t){return e.playheadRef=t},id:"playhead"}),Object(u.jsx)("div",{ref:function(t){return e.hoverPlayheadRef=t},class:"hover-playhead","data-content":"0:00"})]}),Object(u.jsxs)("div",{className:"controls",children:[Object(u.jsx)("button",{onClick:this.prevSong,className:"prev prev-next current-btn",children:Object(u.jsx)("i",{className:"fas fa-backward"})}),Object(u.jsx)("button",{onClick:this.playOrPause,className:"play current-btn",children:s?Object(u.jsx)("i",{class:"fas fa-pause"}):Object(u.jsx)("i",{className:"fas fa-play"})}),Object(u.jsx)("button",{onClick:this.nextSong,className:"next prev-next current-btn",children:Object(u.jsx)("i",{className:"fas fa-forward"})})]})]})})}}]),i}(n.a.Component);var f=function(){return Object(u.jsx)("div",{className:"App",children:Object(u.jsx)(m,{})})},h=function(e){e&&e instanceof Function&&i.e(3).then(i.bind(null,16)).then((function(t){var i=t.getCLS,a=t.getFID,n=t.getFCP,s=t.getLCP,r=t.getTTFB;i(e),a(e),n(e),s(e),r(e)}))};r.a.render(Object(u.jsx)(n.a.StrictMode,{children:Object(u.jsx)(f,{})}),document.getElementById("root")),h()}},[[15,1,2]]]);
//# sourceMappingURL=main.510aa89d.chunk.js.map