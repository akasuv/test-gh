(this["webpackJsonptest-gh"]=this["webpackJsonptest-gh"]||[]).push([[0],{12:function(e,t,n){},13:function(e,t,n){},15:function(e,t,n){"use strict";n.r(t);var i=n(1),a=n.n(i),s=n(3),r=n.n(s),o=(n(12),n(13),n(4)),c=n(5),u=n(7),d=n(6),l=n(0),m=function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(){var e;Object(o.a)(this,n);for(var i=arguments.length,a=new Array(i),s=0;s<i;s++)a[s]=arguments[s];return(e=t.call.apply(t,[this].concat(a))).state={index:3,currentTime:"0:00",musicList:[{name:"Nice piano and ukulele",author:"Royalty",img:"https://www.bensound.com/bensound-img/buddy.jpg",audio:"https://www.bensound.com/bensound-music/bensound-buddy.mp3",duration:"2:02"},{name:"Gentle acoustic",author:"Acoustic",img:"https://www.bensound.com/bensound-img/sunny.jpg",audio:"https://www.bensound.com//bensound-music/bensound-sunny.mp3",duration:"2:20"},{name:"Corporate motivational",author:"Corporate",img:"https://www.bensound.com/bensound-img/energy.jpg",audio:"https://www.bensound.com/bensound-music/bensound-energy.mp3",duration:"2:59"},{name:"Slow cinematic",author:"Royalty",img:"https://www.bensound.com/bensound-img/slowmotion.jpg",audio:"https://www.bensound.com/bensound-music/bensound-slowmotion.mp3",duration:"3:26"}],pause:!1},e.changeCurrentTime=function(t){var n=e.playerRef.duration,i=e.timelineRef.offsetWidth,a=e.timelineRef.offsetLeft,s=100*(t.clientX-a)/i;e.playheadRef.style.width=s+"%",e.playerRef.currentTime=n*s/100},e.hoverTimeLine=function(t){var n=e.playerRef.duration,i=e.timelineRef.offsetWidth,a=e.timelineRef.offsetLeft,s=100*(t.clientX-a)/i;s<=100&&(e.hoverPlayheadRef.style.width=s+"%");var r=n*s/100;r>=0&&r<=n&&(e.hoverPlayheadRef.dataset.content=e.formatTime(r))},e.resetTimeLine=function(){e.hoverPlayheadRef.style.width=0},e.timeUpdate=function(){var t=e.playerRef.duration,n=(e.timelineRef.offsetWidth,e.playheadRef.offsetWidth,e.playerRef.currentTime/t*100);e.playheadRef.style.width=n+"%";var i=e.formatTime(parseInt(e.playerRef.currentTime));e.setState({currentTime:i})},e.formatTime=function(e){var t=Math.floor(e/60),n=Math.floor(e%60);return t+":"+(n=n>=10?n:"0"+n%60)},e.updatePlayer=function(){var t=e.state,n=t.musicList[t.index];new Audio(n.audio);e.playerRef.load()},e.nextSong=function(){var t=e.state,n=t.musicList,i=t.index,a=t.pause;e.setState({index:(i+1)%n.length}),e.updatePlayer(),a&&e.playerRef.play()},e.prevSong=function(){var t=e.state,n=t.musicList,i=t.index,a=t.pause;e.setState({index:(i+n.length-1)%n.length}),e.updatePlayer(),a&&e.playerRef.play()},e.playOrPause=function(){var t=e.state,n=t.musicList,i=t.index,a=t.pause,s=n[i];new Audio(s.audio);e.state.pause?e.playerRef.pause():e.playerRef.play(),e.setState({pause:!a})},e.clickAudio=function(t){var n=e.state.pause;e.setState({index:t}),e.updatePlayer(),n&&e.playerRef.play()},e}return Object(c.a)(n,[{key:"componentDidMount",value:function(){this.playerRef.addEventListener("timeupdate",this.timeUpdate,!1),this.playerRef.addEventListener("ended",this.nextSong,!1),this.timelineRef.addEventListener("click",this.changeCurrentTime,!1),this.timelineRef.addEventListener("mousemove",this.hoverTimeLine,!1),this.timelineRef.addEventListener("mouseout",this.resetTimeLine,!1)}},{key:"componentWillUnmount",value:function(){this.playerRef.removeEventListener("timeupdate",this.timeUpdate),this.playerRef.removeEventListener("ended",this.nextSong),this.timelineRef.removeEventListener("click",this.changeCurrentTime),this.timelineRef.removeEventListener("mousemove",this.hoverTimeLine),this.timelineRef.removeEventListener("mouseout",this.resetTimeLine)}},{key:"render",value:function(){var e=this,t=this.state,n=t.musicList,i=t.index,a=t.currentTime,s=t.pause,r=n[i];return Object(l.jsx)("div",{className:"card",children:Object(l.jsxs)("div",{className:"current-song",children:[Object(l.jsxs)("audio",{ref:function(t){return e.playerRef=t},children:[Object(l.jsx)("source",{src:r.audio,type:"audio/ogg"}),"Your browser does not support the audio element."]}),Object(l.jsx)("div",{className:"img-wrap",children:Object(l.jsx)("img",{src:r.img})}),Object(l.jsx)("span",{className:"song-name",children:r.name}),Object(l.jsx)("span",{className:"song-autor",children:r.author}),Object(l.jsxs)("div",{className:"time",children:[Object(l.jsx)("div",{className:"current-time",children:a}),Object(l.jsx)("div",{className:"end-time",children:r.duration})]}),Object(l.jsxs)("div",{ref:function(t){return e.timelineRef=t},id:"timeline",children:[Object(l.jsx)("div",{ref:function(t){return e.playheadRef=t},id:"playhead"}),Object(l.jsx)("div",{ref:function(t){return e.hoverPlayheadRef=t},class:"hover-playhead","data-content":"0:00"})]}),Object(l.jsxs)("div",{className:"controls",children:[Object(l.jsx)("button",{onClick:this.prevSong,className:"prev prev-next current-btn",children:Object(l.jsx)("i",{className:"fas fa-backward"})}),Object(l.jsx)("button",{onClick:this.playOrPause,className:"play current-btn",children:s?Object(l.jsx)("i",{class:"fas fa-pause"}):Object(l.jsx)("i",{className:"fas fa-play"})}),Object(l.jsx)("button",{onClick:this.nextSong,className:"next prev-next current-btn",children:Object(l.jsx)("i",{className:"fas fa-forward"})})]})]})})}}]),n}(a.a.Component);var h=function(){return Object(l.jsx)("div",{className:"App",children:Object(l.jsx)(m,{})})},f=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,16)).then((function(t){var n=t.getCLS,i=t.getFID,a=t.getFCP,s=t.getLCP,r=t.getTTFB;n(e),i(e),a(e),s(e),r(e)}))};r.a.render(Object(l.jsx)(a.a.StrictMode,{children:Object(l.jsx)(h,{})}),document.getElementById("root")),f()}},[[15,1,2]]]);
//# sourceMappingURL=main.2e2caa83.chunk.js.map